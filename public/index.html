<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
    <script src="http://jashkenas.github.com/coffee-script/extras/coffee-script.js"></script>
    <script src="/bayeux/faye.js"></script>
    <script type="text/coffeescript" src="Robot.coffee"></script>
    <script type="text/coffeescript" src="Hub.coffee"></script>
		<title>ROBOT PARTAY!!!</title>
  </head>
  <body>
    <script type="text/coffeescript">
      defaultRobots = [
        'bayeux'
        'layoutron'
        'displayinator'
        'messagebuilder'
        'accordy1'
        'inputnik'
        'sendax'
        'jsonformatic'
        'iTransmitForTheUsers'
        'historinox'
        'chatformatic'
        'nickformatic'
        'nix'
        'who3p0'
        'entitytracker'
      ]

      hub = new Hub
      
      #todo: replace this with clientRobotRunningRobot - also, should probably load in order
      for robot in defaultRobots
        do (robot) ->
          $.ajax url: "clientbots/#{robot}.bot", success: (data) ->        
            console.log "loading robot:", robot
            hub.add data

    </script>

  </body>
</html>
