<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
    <script src="http://jashkenas.github.com/coffee-script/extras/coffee-script.js"></script>
    <script src="http://localhost:4321/socket.io/socket.io.js"></script>
    <script type="text/coffeescript" src="Robot.coffee"></script>
    <script type="text/coffeescript" src="Hub.coffee"></script>
  </head>
  <body>
    <script type="text/coffeescript">
      defaultRobots = [
        'connectrix'
        'layoutron'
        'displayinator'
        'inputnik'
        'sendax'
        'iTransmitForTheUsers'
        'historinox'
        'chatformatic'
        'jsonformatic'
        'nix'
      ]

      hub = new Hub
      
      #todo: replace this with clientRobotRunningRobot - also, should probably load in order
      for robot in defaultRobots
        do (robot) ->
          $.ajax url: "clientbots/#{robot}.bot", success: (data) ->        
            console.log "loaded robot:", robot
            hub.add data

    </script>

  </body>
</html>